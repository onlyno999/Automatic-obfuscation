(function(a,b){const r=a0b,c=a();while(!![]){try{const d=parseInt(r(0x93))/0x1+parseInt(r(0xa7))/0x2*(parseInt(r(0xa5))/0x3)+-parseInt(r(0xc5))/0x4*(parseInt(r(0xb3))/0x5)+-parseInt(r(0x9a))/0x6*(parseInt(r(0x96))/0x7)+parseInt(r(0x9d))/0x8+-parseInt(r(0xc0))/0x9+parseInt(r(0xa2))/0xa*(parseInt(r(0xb6))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x7f351));const a0c=((()=>{const s=a0b,a=Math[s(0xa0)]();return a>0.5?s(0x97):s(0x94);})());function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x90;let f=c[d];return f;},a0b(a,b);}export default{async 'fetch'(a){const t=a0b,b=new URL(a[t(0x99)]),c=a[t(0x9f)]['get'](t(0xc7));if(c!=='websocket')return set&&b[t(0x90)]==='/'+config['id']+t(0xa3)?new Response(a0i(a[t(0x9f)][t(0xba)](t(0xa6))),{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}}):new Response('Expected\x20WebSocket',{'status':0x190});const d=a0g(a['headers']['get'](t(0xbb)));if(a0h(new Uint8Array(d[t(0xc6)](0x1,0x11)))!==config[t(0xa4)])return new Response(t(0xb9),{'status':0x193});const {tcpSocket:e,initialData:f}=await a0e(d);return await a0d(a,e,f);}};function a0a(){const C=['Invalid\x20UUID','get','sec-websocket-protocol',':443?encryption=none&security=tls&sni=','Connection\x20error:','writable','accept','7627203rSUfiR','log','decode','map','getWriter','1445908CisYyU','slice','Upgrade','pathname','send','/?ed=2560','143396dzUGXq','noise','nodeName','556843JJUBCr','no-op','&path=','url','78AJnkbs','subtle','not\x20available','486072YSHCtI','opened','headers','random','Proxy\x20connection\x20failed','16066550VHLJqu','/vless','uuid','1429968gCOqyU','Host','4kJGKir','charCodeAt','data','write','split','getReader','message','Connecting\x20to:','error','Crypto\x20support:','node','toString','5QyqcCB','padStart','join','11sjSTwE','proxyIP','from'];a0a=function(){return C;};return a0a();}async function a0d(a,b,c){const u=a0b,{0x0:d,0x1:e}=new WebSocketPair();return e[u(0xbf)](),a0f(e,b,c),new Response(null,{'status':0x65,'webSocket':d});}async function a0e(a){const v=a0b,b=new DataView(a),c=new Uint8Array(a),d=c[0x11],e=b['getUint16'](0x12+d+0x1),f=c[0x12+d+0x3];let g,h=0x12+d+0x4;if(f===0x1)g=Array['from'](c['slice'](h,h+0x4))[v(0xb5)]('.'),h+=0x4;else{if(f===0x2){const l=c[h];g=new TextDecoder()[v(0xc2)](c[v(0xc6)](h+0x1,h+0x1+l)),h+=l+0x1;}else{const m=new DataView(a);g=Array(0x8)['fill']()[v(0xc3)]((n,o)=>m['getUint16'](h+0x2*o)['toString'](0x10))[v(0xb5)](':'),h+=0x10;}}const i=a[v(0xc6)](h);async function j(n,o){const w=v;try{const p=connect({'hostname':n,'port':o});return await p[w(0x9e)],p;}catch(q){console[w(0xaf)](w(0xbd),q);throw q;}}let k;try{console[v(0xc1)](v(0xae),g,e),k=await j(g,e);}catch{const [n,o]=config[v(0xb7)][v(0xab)](':');if(!config['enableProxy']||!config[v(0xb7)])throw Error('Connection\x20failed');console[v(0xc1)]('Trying\x20proxy:',n,o||e);try{k=await j(n,Number(o)||e);}catch{throw Error(v(0xa1));}}return{'tcpSocket':k,'initialData':i};}async function a0f(a,b,c){const x=a0b;a[x(0x91)](new Uint8Array([0x0,0x0]));const d=b[x(0xbe)][x(0xc4)](),e=b['readable'][x(0xac)]();if(c)await d[x(0xaa)](c);a['addEventListener'](x(0xad),f=>d['write'](f[x(0xa9)]));try{while(!![]){const {value:f,done:g}=await e['read']();if(g)break;if(f)a[x(0x91)](f);}}catch(h){console[x(0xaf)]('Error\x20reading\x20TCP:',h);}finally{try{a['close']();}catch{}try{await e['cancel']();}catch{}try{d['releaseLock']();}catch{}try{b['close']();}catch{}}}function a0g(a){const y=a0b;return Uint8Array[y(0xb8)](atob(a['replace'](/-/g,'+')['replace'](/_/g,'/')),b=>b[y(0xa8)](0x0))['buffer'];}function a0h(a){const z=a0b,b=Array[z(0xb8)](a,c=>c[z(0xb2)](0x10)[z(0xb4)](0x2,'0'))['join']('');return b[z(0xc6)](0x0,0x8)+'-'+b[z(0xc6)](0x8,0xc)+'-'+b['slice'](0xc,0x10)+'-'+b[z(0xc6)](0x10,0x14)+'-'+b[z(0xc6)](0x14);}function a0i(a){const A=a0b,b=A(0x92);return'vless://'+config['uuid']+'@'+config[A(0xb1)]+A(0xbc)+a+'&type=ws&host='+a+A(0x98)+encodeURIComponent(b)+'#'+encodeURIComponent(config[A(0x95)]);}((()=>{const B=a0b,a=crypto[B(0x9b)]?'available':B(0x9c);console[B(0xc1)](B(0xb0),a);})());