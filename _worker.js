const a0v=a0b;(function(a,b){const u=a0b,c=a();while(!![]){try{const d=parseInt(u(0x1b3))/0x1+parseInt(u(0x1ad))/0x2*(-parseInt(u(0x1c6))/0x3)+parseInt(u(0x1e7))/0x4+parseInt(u(0x1eb))/0x5*(-parseInt(u(0x1b1))/0x6)+parseInt(u(0x1ac))/0x7+-parseInt(u(0x19b))/0x8*(parseInt(u(0x1c9))/0x9)+parseInt(u(0x1df))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x73df3));function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x198;let f=c[d];return f;},a0b(a,b);}let a0c=!![],a0d=a0v(0x1e3);const a0e=(a,b,c)=>{const w=a0v,d=import.meta?.[w(0x1bb)]?.[a]??c?.[a];if(d===undefined||d===null||d==='')return b;if(typeof d===w(0x1e0)){const e=d[w(0x1c8)]();if(e===w(0x1a1))return!![];if(e===w(0x1dc))return![];if(e[w(0x1b6)]('\x0a'))return e[w(0x19f)]('\x0a')[w(0x1d9)](f=>f[w(0x1c8)]())[w(0x1e2)](Boolean);if(!isNaN(e)&&e!=='')return Number(e);return e;}return d;};function a0f(a){const x=a0v,b=a[x(0x19f)]('.');if(b['length']!==0x4)throw new Error('无效的IPv4地址');const c=b['map'](d=>Number(d)[x(0x1cb)](0x10)['padStart'](0x2,'0'));return x(0x1aa)+c[0x0]+c[0x1]+':'+c[0x2]+c[0x3]+']';}async function a0g(b){const y=a0v,c=await fetch(y(0x1ae)+b+y(0x1c5),{'headers':{'Accept':'application/dns-json'}}),d=await c[y(0x1a0)](),e=d[y(0x1dd)]?.[y(0x1e6)](f=>f[y(0x1ec)]===0x1);if(!e)throw new Error(y(0x1bf));return a0f(e['data']);}export default{async 'fetch'(a,b){const z=a0v;哎呀呀这是我的ID啊=a0e('ID',哎呀呀这是我的ID啊,b),哎呀呀这是我的VL密钥=a0e(z(0x1bc),哎呀呀这是我的VL密钥,b),我的优选=a0e('IP',我的优选,b),我的优选TXT=a0e(z(0x1e1),我的优选TXT,b),反代IP=a0e(z(0x1b9),反代IP,b),咦这是我的私钥哎=a0e('私钥',咦这是我的私钥哎,b),隐藏订阅=a0e('隐藏',隐藏订阅,b),私钥开关=a0e(z(0x1b8),私钥开关,b),嘲讽语=a0e('嘲讽语',嘲讽语,b),启用反代功能=a0e(z(0x1a6),启用反代功能,b),a0c=a0e(z(0x1c3),a0c,b),a0d=a0e('我的节点名字',a0d,b);const c=a[z(0x1e5)][z(0x1cf)](z(0x1c1)),d=new URL(a[z(0x1da)]);if(!c||c!==z(0x1a5)){if(我的优选TXT){const e=Array[z(0x19a)](我的优选TXT)?我的优选TXT:[我的优选TXT],f=[];for(const g of e){try{const h=await fetch(g),i=await h[z(0x1ed)](),j=i[z(0x19f)]('\x0a')[z(0x1d9)](l=>l[z(0x1c8)]())[z(0x1e2)](l=>l);f[z(0x1b5)](...j);}catch{}}if(f[z(0x1ce)]>0x0)我的优选=f;}switch(d[z(0x1a9)]){case'/'+哎呀呀这是我的ID啊:return new Response(a0m(哎呀呀这是我的ID啊,a['headers'][z(0x1cf)](z(0x1d1))),{'status':0xc8,'headers':{'Content-Type':z(0x1a4)}});case'/'+哎呀呀这是我的ID啊+'/'+转码+转码2:if(隐藏订阅)return new Response(嘲讽语,{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}});return new Response(a0n(a['headers'][z(0x1cf)](z(0x1d1))),{'status':0xc8,'headers':{'Content-Type':z(0x1a4)}});default:return new Response('Hello\x20World!',{'status':0xc8});}}else{if(私钥开关){const p=a['headers'][z(0x1cf)](z(0x1d3));if(p!==咦这是我的私钥哎)return new Response('私钥验证失败',{'status':0x193});}const l=a[z(0x1e5)]['get'](z(0x1cc)),m=a0i(l);if(a0l(new Uint8Array(m[z(0x1d0)](0x1,0x11)))!==哎呀呀这是我的VL密钥)return new Response(z(0x1d4),{'status':0x193});const {tcpSocket:n,initialData:o}=await a0j(m);return await a0h(a,n,o);}}};async function a0h(a,b,c){const A=a0v,{0x0:d,0x1:e}=new WebSocketPair();return e[A(0x19c)](),a0k(e,b,c),new Response(null,{'status':0x65,'webSocket':d});}function a0i(a){const B=a0v;return a=a['replace'](/-/g,'+')[B(0x1ea)](/_/g,'/'),Uint8Array['from'](atob(a),b=>b[B(0x1b0)](0x0))['buffer'];}async function a0j(a){const C=a0v,d=new DataView(a),e=new Uint8Array(a),f=e[0x11],g=d[C(0x1b7)](0x12+f+0x1);let i=0x12+f+0x4,j;if(e[i-0x1]===0x1)j=Array[C(0x1e4)](e[C(0x1d0)](i,i+0x4))[C(0x1b4)]('.'),i+=0x4;else{if(e[i-0x1]===0x2){const o=e[i];j=new TextDecoder()[C(0x1d7)](e[C(0x1d0)](i+0x1,i+0x1+o)),i+=o+0x1;}else{const q=new DataView(a);j=Array(0x8)[C(0x1b2)]()[C(0x1d9)]((r,s)=>q[C(0x1b7)](i+0x2*s)[C(0x1cb)](0x10))[C(0x1b4)](':'),i+=0x10;}}const k=a[C(0x1d0)](i);try{const r=await connect({'hostname':j,'port':g});return await r['opened'],{'tcpSocket':r,'initialData':k};}catch{}if(a0c)try{let s;if(/^\d+\.\d+\.\d+\.\d+$/[C(0x19e)](j))s=a0f(j);else{if(j[C(0x1b6)](':'))throw new Error(C(0x1ab));else s=await a0g(j);}const t=await connect({'hostname':s[C(0x1ea)](/^|$/g,''),'port':g});return await t[C(0x1bd)],{'tcpSocket':t,'initialData':k};}catch{}if(!启用反代功能||!反代IP)throw Error('连接失败');const [l,m]=反代IP[C(0x19f)](':'),n=await connect({'hostname':l,'port':Number(m)||g});return await n['opened'],{'tcpSocket':n,'initialData':k};}async function a0k(a,b,c){const D=a0v;a[D(0x1c2)](new Uint8Array([0x0,0x0]));const d=b['writable'][D(0x1d8)](),e=b[D(0x198)]['getReader']();if(c)await d[D(0x1af)](c);a['addEventListener'](D(0x1db),f=>d['write'](f[D(0x1c4)]));try{while(!![]){const {value:f,done:g}=await e[D(0x1e8)]();if(g)break;if(f){let h=0x0;while(h<f['length']){const i=0x1+Math[D(0x1ba)](Math['random']()*0x400),j=Math[D(0x1a3)](i,f[D(0x1ce)]-h),k=f[D(0x1d0)](h,h+j);a[D(0x1c2)](k),h+=j;}}}}finally{try{a[D(0x1d6)]();}catch{}try{e[D(0x1a8)]();}catch{}try{d[D(0x1ca)]();}catch{}b[D(0x1d6)]();}}function a0l(b){const E=a0v,c=Array[E(0x1e4)](b,d=>d[E(0x1cb)](0x10)[E(0x1d5)](0x2,'0'))['join']('');return c[E(0x1d0)](0x0,0x8)+'-'+c[E(0x1d0)](0x8,0xc)+'-'+c[E(0x1d0)](0xc,0x10)+'-'+c['slice'](0x10,0x14)+'-'+c['slice'](0x14);}function a0m(a,b){const F=a0v;return F(0x1e9)+符号+b+'/'+a+'/'+转码+转码2+'\x0a';}function a0a(){const I=['trim','45774eMWprn','releaseLock','toString','sec-websocket-protocol',':443#备用节点','length','get','slice','Host','请先关闭私钥功能','my-key','无效的UUID','padStart','close','decode','getWriter','map','url','message','false','Answer','&path=%2F%3Fed%3D2560#','4979070FLgExb','string','TXT','filter','天书暴躁版','from','headers','find','1909300knovBg','read','\x0a1、本worker的私钥功能只支持通用订阅，其他请关闭私钥功能\x20\x20\x0a2、其他需求自行研究\x20\x20\x0a通用的：https','replace','1281065mUQjPs','type','text','readable','notls','isArray','376LPEOBg','accept','&sni=','test','split','json','true','security=none','min','text/plain;charset=utf-8','websocket','启用反代功能','pop','cancel','pathname','[2001:67c:2960:6464::','IPv6\x20地址无需\x20NAT64','1749636gaEDqh','18uxceAr','https://1.1.1.1/dns-query?name=','write','charCodeAt','6CPkhHh','fill','357388NHfWaA','join','push','includes','getUint16','私钥开关','PROXYIP','floor','env','UUID','opened','?encryption=none&','无法解析域名的IPv4地址','security=tls','Upgrade','send','NAT64','data','&type=A','204234oRNyCT','&type=ws&host='];a0a=function(){return I;};return a0a();}function a0n(a){const G=a0v;我的优选[G(0x1b5)](a+G(0x1cd));if(私钥开关)return G(0x1d2);return 我的优选[G(0x1d9)](b=>{const H=G,[c,d]=b[H(0x19f)]('@'),[e,f=a0d]=c[H(0x19f)]('#'),g=e[H(0x19f)](':'),h=g[H(0x1ce)]>0x1?Number(g[H(0x1a7)]()):0x1bb,i=g[H(0x1b4)](':'),j=d===H(0x199)?H(0x1a2):H(0x1c0);return''+转码+转码2+符号+哎呀呀这是我的VL密钥+'@'+i+':'+h+H(0x1be)+j+H(0x19d)+a+H(0x1c7)+a+H(0x1de)+f;})[G(0x1b4)]('\x0a');}