const a0w=a0b;(function(a,b){const v=a0b,c=a();while(!![]){try{const d=-parseInt(v(0x1c5))/0x1+parseInt(v(0x1bd))/0x2*(parseInt(v(0x181))/0x3)+parseInt(v(0x1c9))/0x4+-parseInt(v(0x1a5))/0x5*(-parseInt(v(0x1be))/0x6)+-parseInt(v(0x1c0))/0x7+-parseInt(v(0x19e))/0x8+parseInt(v(0x1a3))/0x9;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x4a7cb));let a0c=a0w(0x1bc);function a0a(){const H=['udp','?encryption=none&','NAT64','启用反代功能','天书暴躁版','5818UyImqt','1485450dNhoQX','close','2794358jCWNgM','padStart','fill','headers','&type=A','415284AQOnmV','slice','filter','UUID','968436VRtWbT','env','charCodeAt','无法获取或解析链接:\x20','join','Hello\x20World!','339quinnz','true','map','pop','includes','PROXYIP','[2001:67c:2960:6464::','cancel','split','Host','text/plain;charset=utf-8','pathname','url','getWriter','getReader','notls','message','test','get','opened','请先关闭私钥��能','buffer','toString','length','push','trim','data','我的节点名字','&type=ws&host=','1921048ZjiGjp','send','&sni=','TXT','Answer','4871763cdJriV','websocket','5jiyMyO','addEventListener','replace','连接失败','type','releaseLock','getUint16','json','https://1.1.1.1/dns-query?name=','from','无效的IPv4地址','my-key','write','无法解析域名的IPv4地址','无效的UUID','text','string','&path=%2F%3Fed%3D2560#','嘲讽语'];a0a=function(){return H;};return a0a();}const a0d=(a,b,c)=>{const x=a0w,d=import.meta?.[x(0x1ca)]?.[a]??c?.[a];if(d===undefined||d===null||d==='')return b;if(typeof d===x(0x1b5)){const e=d[x(0x19a)]();if(e===x(0x182))return!![];if(e==='false')return![];if(e[x(0x185)]('\x0a'))return e[x(0x189)]('\x0a')[x(0x183)](f=>f['trim']())[x(0x1c7)](Boolean);if(!isNaN(e)&&e!=='')return Number(e);return e;}return d;};function a0e(a){const y=a0w,b=a[y(0x189)]('.');if(b[y(0x198)]!==0x4)throw new Error(y(0x1af));const c=b[y(0x183)](d=>Number(d)[y(0x197)](0x10)[y(0x1c1)](0x2,'0'));return y(0x187)+c[0x0]+c[0x1]+':'+c[0x2]+c[0x3]+']';}async function a0f(b){const z=a0w,c=await fetch(z(0x1ad)+b+z(0x1c4),{'headers':{'Accept':'application/dns-json'}}),d=await c[z(0x1ac)](),e=d[z(0x1a2)]?.['find'](f=>f[z(0x1a9)]===0x1);if(!e)throw new Error(z(0x1b2));return a0e(e[z(0x19b)]);}export default{async 'fetch'(a,b){const A=a0w;哎呀呀这是我的ID啊=a0d('ID',哎呀呀这是我的ID啊,b),哎呀呀这是我的VL密钥=a0d(A(0x1c8),哎呀呀这是我的VL密钥,b),我的优选=a0d('IP',我的优选,b),我的优选TXT=a0d(A(0x1a1),我的优选TXT,b),反代IP=a0d(A(0x186),反代IP,b),咦这是我的私钥哎=a0d('私钥',咦这是我的私钥哎,b),隐藏订阅=a0d('隐藏',隐藏订阅,b),私钥开关=a0d('私钥开关',私钥开关,b),嘲讽语=a0d(A(0x1b7),嘲讽语,b),启用反代功能=a0d(A(0x1bb),启用反代功能,b),NAT64=a0d(A(0x1ba),NAT64,b),a0c=a0d(A(0x19c),a0c,b);const c=a[A(0x1c3)]['get']('Upgrade'),d=new URL(a[A(0x18d)]);if(!c||c!==A(0x1a4)){if(我的优选TXT){const f=Array['isArray'](我的优选TXT)?我的优选TXT:[我的优选TXT],g=[];for(const h of f){try{const i=await fetch(h),j=await i[A(0x1b4)](),l=j[A(0x189)]('\x0a')[A(0x183)](m=>m[A(0x19a)]())['filter'](m=>m);g[A(0x199)](...l);}catch(m){console['warn'](A(0x1cc)+h,m);}}if(g['length']>0x0)我的优选=g;}switch(d[A(0x18c)]){case'/'+哎呀呀这是我的ID啊:return new Response(a0l(哎呀呀这是我的ID啊,a[A(0x1c3)][A(0x193)](A(0x18a))),{'status':0xc8,'headers':{'Content-Type':A(0x18b)}});case'/'+哎呀呀这是我的ID啊+'/'+转码+转码2:if(隐藏订阅)return new Response(嘲讽语,{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}});return new Response(a0m(a[A(0x1c3)][A(0x193)](A(0x18a))),{'status':0xc8,'headers':{'Content-Type':A(0x18b)}});default:return new Response(A(0x1ce),{'status':0xc8});}}else{if(私钥开关){const r=a[A(0x1c3)][A(0x193)](A(0x1b0));if(r!==咦这是我的私钥哎)return new Response('私钥验证失败',{'status':0x193});}const n=a[A(0x1c3)][A(0x193)]('sec-websocket-protocol'),o=a0h(n);if(a0k(new Uint8Array(o[A(0x1c6)](0x1,0x11)))!==哎呀呀这是我的VL密钥)return new Response(A(0x1b3),{'status':0x193});const {tcpSocket:p,initialData:q}=await a0i(o);return await a0g(a,p,q);}}};async function a0g(a,b,c){const {0x0:d,0x1:e}=new WebSocketPair();return e['accept'](),a0j(e,b,c),new Response(null,{'status':0x65,'webSocket':d});}function a0h(a){const B=a0w;return a=a[B(0x1a7)](/-/g,'+')[B(0x1a7)](/_/g,'/'),Uint8Array['from'](atob(a),b=>b[B(0x1cb)](0x0))[B(0x196)];}async function a0i(a){const C=a0w,d=new DataView(a),e=new Uint8Array(a),f=e[0x11],g=d[C(0x1ab)](0x12+f+0x1);let i=0x12+f+0x4,j;if(e[i-0x1]===0x1)j=Array['from'](e['slice'](i,i+0x4))[C(0x1cd)]('.'),i+=0x4;else{if(e[i-0x1]===0x2){const o=e[i];j=new TextDecoder()['decode'](e[C(0x1c6)](i+0x1,i+0x1+o)),i+=o+0x1;}else{const q=new DataView(a);j=Array(0x8)[C(0x1c2)]()[C(0x183)]((r,s)=>q[C(0x1ab)](i+0x2*s)[C(0x197)](0x10))[C(0x1cd)](':'),i+=0x10;}}const k=a['slice'](i);try{const r=await connect({'hostname':j,'port':g});return await r['opened'],{'tcpSocket':r,'initialData':k};}catch{}if(NAT64){try{let s;if(/^\d+\.\d+\.\d+\.\d+$/[C(0x192)](j))s=a0e(j);else{if(j[C(0x185)](':'))throw new Error('IPv6\x20地址无需\x20NAT64');else s=await a0f(j);}const t=await connect({'hostname':s[C(0x1a7)](/^\[|\]$/g,''),'port':g});return await t['opened'],{'tcpSocket':t,'initialData':k};}catch{}try{const u=await connect({'hostname':j,'port':g,'transport':C(0x1b8)});return await u[C(0x194)],{'tcpSocket':u,'initialData':k};}catch{}}if(!启用反代功能||!反代IP)throw Error(C(0x1a8));const [l,m]=反代IP[C(0x189)](':'),n=await connect({'hostname':l,'port':Number(m)||g});return await n[C(0x194)],{'tcpSocket':n,'initialData':k};}function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x181;let f=c[d];return f;},a0b(a,b);}async function a0j(a,b,c){const D=a0w;a[D(0x19f)](new Uint8Array([0x0,0x0]));const d=b['writable'][D(0x18e)](),e=b['readable'][D(0x18f)]();if(c)await d[D(0x1b1)](c);a[D(0x1a6)](D(0x191),f=>d[D(0x1b1)](f[D(0x19b)]));try{while(!![]){const {value:f,done:g}=await e['read']();if(g)break;if(f)a[D(0x19f)](f);}}finally{try{a['close']();}catch{}try{e[D(0x188)]();}catch{}try{d[D(0x1aa)]();}catch{}b[D(0x1bf)]();}}function a0k(b){const E=a0w,c=Array[E(0x1ae)](b,d=>d[E(0x197)](0x10)['padStart'](0x2,'0'))[E(0x1cd)]('');return c['slice'](0x0,0x8)+'-'+c[E(0x1c6)](0x8,0xc)+'-'+c[E(0x1c6)](0xc,0x10)+'-'+c[E(0x1c6)](0x10,0x14)+'-'+c[E(0x1c6)](0x14);}function a0l(a,b){return'\x0a1、本worker的私钥功能只支持通用订阅，其他请关闭私钥功能\x20\x20\x0a2、其他需求自行研究\x20\x20\x0a通用的：https'+符号+b+'/'+a+'/'+转码+转码2+'\x0a';}function a0m(a){const F=a0w;我的优选['push'](a+':443#备用节点');if(私钥开关)return F(0x195);return 我的优选[F(0x183)](b=>{const G=F,[c,d]=b['split']('@'),[e,f=a0c]=c[G(0x189)]('#'),g=e[G(0x189)](':'),h=g[G(0x198)]>0x1?Number(g[G(0x184)]()):0x1bb,i=g[G(0x1cd)](':'),j=d===G(0x190)?'security=none':'security=tls';return''+转码+转码2+符号+哎呀呀这是我的VL密钥+'@'+i+':'+h+G(0x1b9)+j+G(0x1a0)+a+G(0x19d)+a+G(0x1b6)+f;})[F(0x1cd)]('\x0a');}