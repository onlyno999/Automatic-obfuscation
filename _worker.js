const a0w=a0b;(function(a,b){const v=a0b,c=a();while(!![]){try{const d=-parseInt(v(0xd7))/0x1*(-parseInt(v(0xdd))/0x2)+parseInt(v(0xab))/0x3+-parseInt(v(0xd0))/0x4+-parseInt(v(0xd4))/0x5*(-parseInt(v(0xc3))/0x6)+parseInt(v(0xd9))/0x7*(-parseInt(v(0xae))/0x8)+-parseInt(v(0xc9))/0x9+-parseInt(v(0xaf))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0xaa12c));import{connect}from'cloudflare:sockets';let a0c=a0w(0xbc);const a0d=0x2*0x400*0x400,a0e=0x3a98,a0f=0x1f40,a0g=0xc,a0h=0x18,a0i=(b,c)=>Array[a0w(0xaa)](b[a0w(0xdb)](c,c+0x10))['map'](d=>d['toString'](0x10)['padStart'](0x2,'0'))['join']('')['replace'](/(.{8})(.{4})(.{4})(.{4})(.{12})/,a0w(0xac));export default{async 'fetch'(a,b){const x=a0w,c=new URL(a[x(0xbe)]);if(a[x(0xc4)][x(0xb7)](x(0xcc))?.[x(0xd3)]()!=='websocket')return new Response('OK',{'status':0xc8});const {0x0:d,0x1:e}=new WebSocketPair();e['accept']();const f={'address':x(0xe9),'port':0x1bb};return a0n(e,f),new Response(null,{'status':0x65,'webSocket':d});}};function a0b(a,b){a=a-0xaa;const c=a0a();let d=c[a];return d;}const a0j=a=>{const y=a0w,c=0x12+a[0x11]+0x1,d=a[c]<<0x8|a[c+0x1],e=a[c+0x2];let f=c+0x3,g,i;switch(e){case 0x1:i=0x4,g=a[y(0xdb)](f,f+i)[y(0xb0)]('.');break;case 0x2:i=a[f++],g=new TextDecoder()['decode'](a[y(0xdb)](f,f+i));break;case 0x3:i=0x10,g='['+Array[y(0xaa)]({'length':0x8},(j,k)=>(a[f+k*0x2]<<0x8|a[f+k*0x2+0x1])[y(0xbb)](0x10))[y(0xb0)](':')+']';break;default:throw new Error(y(0xb3));}return{'host':g,'port':d,'payload':a[y(0xdb)](f+i),'addressType':e};},a0k=a=>{const z=a0w;if(a[z(0xb8)]('[')){const d=a['match'](/^\[(.+?)\]:(\d+)$/);if(d)return[d[0x1],Number(d[0x2])];return[a['slice'](0x1,-0x1),0x1bb];}const [b,c=0x1bb]=a[z(0xdc)](':');return[b,Number(c)];};async function a0l(a,b,c,d){const A=a0w,{username:e,password:f,hostname:g,port:h}=d,i=connect({'hostname':g,'port':h}),j=i[A(0xe4)][A(0xca)]();await j[A(0xe8)](new Uint8Array([0x5,e?0x2:0x1,0x0,e?0x2:0x0]));const k=i[A(0xc6)][A(0xb2)](),l=new TextEncoder();let m=(await k[A(0xc5)]())[A(0xd5)];if(m[0x1]===0x2){const o=new Uint8Array([0x1,e[A(0xb9)],...l['encode'](e),f['length'],...l[A(0xc2)](f)]);await j['write'](o),m=(await k[A(0xc5)]())['value'];if(m[0x1]!==0x0)throw new Error(A(0xbf));}let n;if(a===0x1)n=new Uint8Array([0x1,...b[A(0xdc)]('.')[A(0xce)](Number)]);else{if(a===0x2)n=new Uint8Array([0x3,b[A(0xb9)],...l['encode'](b)]);else{if(a===0x3){const p=b[A(0xdb)](0x1,-0x1)[A(0xdc)](':')['flatMap'](q=>[parseInt(q['slice'](0x0,0x2),0x10),parseInt(q[A(0xdb)](0x2,0x4),0x10)]);n=new Uint8Array([0x4,...p]);}}}await j[A(0xe8)](new Uint8Array([0x5,0x1,0x0,...n,c>>0x8&0xff,c&0xff])),m=(await k['read']())['value'];if(m[0x1]!==0x0)throw new Error(A(0xdf));return j['releaseLock'](),k[A(0xc1)](),i;}function a0a(){const I=['addressType','Connection:\x20keep-alive\x0d\x0a\x0d\x0a','byteLength','write','wok.woxxxxxx.nyc.mn','from','3941601EnaHEN','$1-$2-$3-$4-$5','host','435832JgZYKc','6175370qCmbCs','join','Exhausted.','getReader','Invalid\x20address\x20type.','addEventListener','error','test','get','startsWith','length','data','toString','3523c510-9ff0-415b-9582-93949bfae7e3','Max\x20reconnect.','url','SOCKS5\x20auth\x20failed','Proxy-Authorization:\x20Basic\x20','releaseLock','encode','12sCByaQ','headers','read','readable','set','\x20HTTP/1.1\x0d\x0a','7460964qihwps','getWriter','close','Upgrade','Error.','map','port','548844uOGUYZ','HTTP\x20proxy\x20response\x20too\x20large','\x0d\x0a\x0d\x0a','toLowerCase','2718665usynGk','value','opened','18427dlcmGa','free','70zXvgmj','readyState','slice','split','46kKpUil','User-Agent:\x20Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/129.0.0.0\x20Safari/537.36\x0d\x0a','SOCKS5\x20connect\x20failed','includes','send','reset','alloc','writable'];a0a=function(){return I;};return a0a();}async function a0m(a,b,c,d){const B=a0w,{username:e,password:f,hostname:g,port:h}=d,i=connect({'hostname':g,'port':h});let j='CONNECT\x20'+b+':'+c+B(0xc8)+('Host:\x20'+b+':'+c+'\x0d\x0a');e&&f&&(j+=B(0xc0)+btoa(e+':'+f)+'\x0d\x0a');j+=B(0xde)+B(0xe6);const k=i[B(0xe4)][B(0xca)]();await k[B(0xe8)](new TextEncoder()[B(0xc2)](j)),k[B(0xc1)]();const l=i[B(0xc6)]['getReader']();let m=new Uint8Array(0x0);while(!![]){const {value:n,done:o}=await l[B(0xc5)]();if(o)throw new Error('HTTP\x20proxy\x20closed\x20unexpectedly');const p=new Uint8Array(m[B(0xb9)]+n[B(0xb9)]);p['set'](m),p[B(0xc7)](n,m['length']),m=p;if(m[B(0xb9)]>0x10000)throw new Error(B(0xd1));const q=new TextDecoder()['decode'](m);if(q[B(0xe0)](B(0xd2))){if(/^HTTP\/1\.[01] 2/i[B(0xb6)](q['split']('\x0d\x0a')[0x0]))return l[B(0xc1)](),i;throw new Error('HTTP\x20proxy\x20refused:\x20'+q[B(0xdc)]('\x0d\x0a')[0x0]);}}}const a0n=(a,b)=>{const H=a0w,c=new Pool();let d,e,f,g,h=!![];const i=o=>{},j=async(o,p,q)=>{try{const s=connect({'hostname':o,'port':p});if(s['opened'])await s['opened'];return s;}catch(t){throw t;}},k=async()=>{const C=a0b;try{d=await j(g[C(0xad)],g[C(0xcf)],g[C(0xe5)]);if(d[C(0xd6)])await d['opened'];e=d[C(0xe4)][C(0xca)](),f=d[C(0xc6)][C(0xb2)](),l();}catch(o){n(),a['close'](0x3f3,C(0xbd));}},l=async()=>{const D=a0b;if(reading)return;reading=!![];try{while(!![]){const {done:o,value:p}=await f[D(0xc5)]();if(o){reading=![],m();break;}if(a[D(0xda)]===0x1)a[D(0xe1)](p);}}catch(q){n(),a[D(0xcb)](0x3ee,'Error.');}},m=async()=>{const E=a0b;d&&d[E(0xda)]!==0x1?await k():(n(),a[E(0xcb)](0x3f3,E(0xb1)));},n=()=>{const F=a0b;c[F(0xe2)]();if(a[F(0xda)]===0x1)a[F(0xcb)](0x3ee,F(0xcd));};a['addEventListener']('message',async o=>{const G=a0b;if(h){h=![];const p=new Uint8Array(o[G(0xba)]),{host:q,port:s,addressType:t}=a0j(p);g={'host':q,'port':s,'addressType':t},a[G(0xe1)](new Uint8Array([p[0x0],0x0])),k();}else{const u=c[G(0xe3)](o[G(0xba)][G(0xe7)]);u[G(0xc7)](new Uint8Array(o['data'])),c[G(0xd8)](u);}}),a[H(0xb4)]('close',n),a[H(0xb4)](H(0xb5),n);};