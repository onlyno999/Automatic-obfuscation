const a0z=a0b;(function(a,b){const y=a0b,c=a();while(!![]){try{const d=parseInt(y(0x11b))/0x1+-parseInt(y(0x136))/0x2+-parseInt(y(0x11d))/0x3*(parseInt(y(0x14e))/0x4)+-parseInt(y(0x13e))/0x5*(parseInt(y(0x133))/0x6)+parseInt(y(0x159))/0x7*(-parseInt(y(0x15d))/0x8)+parseInt(y(0x127))/0x9*(parseInt(y(0x15e))/0xa)+-parseInt(y(0x14b))/0xb*(-parseInt(y(0x121))/0xc);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x205d3));let a0c=!![],a0d=a0z(0x157);const a0e=(a,b,c)=>{const A=a0z,d=import.meta?.[A(0x13d)]?.[a]??c?.[a];if(d===undefined||d===null||d==='')return b;if(typeof d===A(0x15b)){const e=d[A(0x149)]();if(e===A(0x115))return!![];if(e===A(0x13f))return![];if(e[A(0x131)]('\x0a'))return e[A(0x151)]('\x0a')['map'](f=>f['trim']())[A(0x122)](Boolean);if(!isNaN(e)&&e!=='')return Number(e);return e;}return d;};function a0f(a){const B=a0z,b=a['split']('.');if(b[B(0x156)]!==0x4)throw new Error(B(0x10a));const c=b[B(0x13a)](d=>Number(d)[B(0x117)](0x10)[B(0x150)](0x2,'0'));return B(0x130)+c[0x0]+c[0x1]+':'+c[0x2]+c[0x3]+']';}async function a0g(b){const C=a0z,c=await fetch(C(0x152)+b+C(0x11f),{'headers':{'Accept':C(0x11a)}}),d=await c[C(0x10f)](),e=d[C(0x145)]?.[C(0x105)](f=>f[C(0x142)]===0x1);if(!e)throw new Error('无法解析域名的IPv4地址');return a0f(e['data']);}export default{async 'fetch'(a,b){const D=a0z;哎呀呀这是我的ID啊=a0e('ID',哎呀呀这是我的ID啊,b),哎呀呀这是我的VL密钥=a0e(D(0x12f),哎呀呀这是我的VL密钥,b),我的优选=a0e('IP',我的优选,b),我的优选TXT=a0e(D(0x135),我的优选TXT,b),反代IP=a0e(D(0x125),反代IP,b),咦这是我的私钥哎=a0e('私钥',咦这是我的私钥哎,b),隐藏订阅=a0e('隐藏',隐藏订阅,b),私钥开关=a0e(D(0x114),私钥开关,b),嘲讽语=a0e(D(0x128),嘲讽语,b),启用反代功能=a0e(D(0x12a),启用反代功能,b),a0c=a0e('NAT64',a0c,b),a0d=a0e(D(0x106),a0d,b);const c=a['headers'][D(0x132)]('Upgrade'),d=new URL(a[D(0x129)]);if(!c||c!==D(0x126)){if(我的优选TXT){const f=Array[D(0x144)](我的优选TXT)?我的优选TXT:[我的优选TXT],g=[];for(const h of f){try{const i=await fetch(h),j=await i['text'](),l=j['split']('\x0a')[D(0x13a)](m=>m[D(0x149)]())[D(0x122)](m=>m);g[D(0x110)](...l);}catch(m){console[D(0x109)](D(0x158)+h,m);}}if(g[D(0x156)]>0x0)我的优选=g;}switch(d[D(0x137)]){case'/'+哎呀呀这是我的ID啊:return new Response(a0n(哎呀呀这是我的ID啊,a['headers'][D(0x132)]('Host')),{'status':0xc8,'headers':{'Content-Type':D(0x14f)}});case'/'+哎呀呀这是我的ID啊+'/'+转码+转码2:if(隐藏订阅)return new Response(嘲讽语,{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}});return new Response(a0o(a[D(0x15a)]['get'](D(0x12b))),{'status':0xc8,'headers':{'Content-Type':D(0x14f)}});default:return new Response('Hello\x20World!',{'status':0xc8});}}else{if(私钥开关){const t=a['headers'][D(0x132)](D(0x141));if(t!==咦这是我的私钥哎)return new Response(D(0x143),{'status':0x193});}const n=a['headers'][D(0x132)](D(0x13b)),o=a0i(n);if(a0m(new Uint8Array(o[D(0x138)](0x1,0x11)))!==哎呀呀这是我的VL密钥)return new Response(D(0x12e),{'status':0x193});const {tcpSocket:p,udpSocket:q,initialData:r,isUDP:s}=await a0j(o);return await a0h(a,p,q,r,s);}}};async function a0h(a,b,c,d,e){const E=a0z,{访问端:f,WS接口:g}=new WebSocketPair();return g[E(0x108)](),e&&c?a0k(g,c,d):a0l(g,b,d),new Response(null,{'status':0x65,'webSocket':f});}function a0i(a){const F=a0z;return a=a['replace'](/-/g,'+')[F(0x107)](/_/g,'/'),Uint8Array[F(0x147)](atob(a),b=>b['charCodeAt'](0x0))['buffer'];}async function a0j(a){const G=a0z,d=new DataView(a),e=new Uint8Array(a),f=e[0x11],g=e[0x12+f],i=g===0x2,j=d[G(0x112)](0x12+f+0x1);let k=0x12+f+0x4,l;if(e[k-0x1]===0x1)l=Array[G(0x147)](e['slice'](k,k+0x4))[G(0x11c)]('.'),k+=0x4;else{if(e[k-0x1]===0x2){const r=e[k];l=new TextDecoder()[G(0x13c)](e[G(0x138)](k+0x1,k+0x1+r)),k+=r+0x1;}else{const s=new DataView(a);l=Array(0x8)[G(0x153)]()[G(0x13a)]((t,u)=>s[G(0x112)](k+0x2*u)['toString'](0x10))[G(0x11c)](':'),k+=0x10;}}const m=a[G(0x138)](k);if(i){const t=new DatagramSocket();let u=l;if(a0c){if(/^\d+\.\d+\.\d+\.\d+$/[G(0x146)](l))u=a0f(l)[G(0x138)](0x1,-0x1);else l[G(0x131)](':')?u=l:u=(await a0g(l))[G(0x138)](0x1,-0x1);}return await t[G(0x12c)]({'port':0x0,'hostname':'::'}),t[G(0x14a)](m,{'hostname':u,'port':j}),{'tcpSocket':null,'udpSocket':t,'initialData':null,'isUDP':!![]};}try{const v=await connect({'hostname':l,'port':j});return await v['opened'],{'tcpSocket':v,'udpSocket':null,'initialData':m,'isUDP':![]};}catch{}if(a0c)try{let w;if(/^\d+\.\d+\.\d+\.\d+$/[G(0x146)](l))w=a0f(l);else{if(l[G(0x131)](':'))throw new Error(G(0x148));else w=await a0g(l);}const x=await connect({'hostname':w['replace'](/^|$/g,''),'port':j});return await x[G(0x139)],{'tcpSocket':x,'udpSocket':null,'initialData':m,'isUDP':![]};}catch{}if(!启用反代功能||!反代IP)throw Error(G(0x15c));const [n,o]=反代IP[G(0x151)](':'),q=await connect({'hostname':n,'port':Number(o)||j});return await q[G(0x139)],{'tcpSocket':q,'udpSocket':null,'initialData':m,'isUDP':![]};}async function a0k(a,b,c){const H=a0z;b[H(0x111)](H(0x154),d=>{const I=H;try{a[I(0x14a)](d[I(0x155)]);}catch{}}),a['addEventListener'](H(0x154),d=>{const J=H;try{b[J(0x14a)](d[J(0x155)],d['data'][J(0x113)]);}catch{}});}async function a0l(a,b,c){const K=a0z;a[K(0x14a)](new Uint8Array([0x0,0x0]));const d=b[K(0x12d)][K(0x120)](),e=b['readable']['getReader']();if(c)await d[K(0x10c)](c);a[K(0x111)](K(0x154),f=>d[K(0x10c)](f[K(0x155)]));try{while(!![]){const {value:f,done:g}=await e[K(0x10d)]();if(g)break;if(f)a[K(0x14a)](f);}}finally{try{a[K(0x10e)]();}catch{}try{e[K(0x118)]();}catch{}try{d[K(0x119)]();}catch{}b[K(0x10e)]();}}function a0m(b){const L=a0z,c=Array[L(0x147)](b,d=>d[L(0x117)](0x10)[L(0x150)](0x2,'0'))[L(0x11c)]('');return c['slice'](0x0,0x8)+'-'+c[L(0x138)](0x8,0xc)+'-'+c[L(0x138)](0xc,0x10)+'-'+c[L(0x138)](0x10,0x14)+'-'+c[L(0x138)](0x14);}function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x105;let f=c[d];return f;},a0b(a,b);}function a0a(){const P=['&path=%2F%3Fed%3D2560#','pop','175132cWEhPn','text/plain;charset=utf-8','padStart','split','https://1.1.1.1/dns-query?name=','fill','message','data','length','天书暴躁版','无法获取或解析链接:\x20','476nHfMSX','headers','string','连接失败','30512DhwAfS','10TMPKNe','find','我的节点名字','replace','accept','warn','无效的IPv4地址','请先关闭私钥功能','write','read','close','json','push','addEventListener','getUint16','__remoteAddr','私钥开关','true','&sni=','toString','cancel','releaseLock','application/dns-json','29997mqEgAa','join','15DzeDPs','&type=ws&host=','&type=A','getWriter','180LqDTJW','filter','?encryption=none&','security=tls','PROXYIP','websocket','732591SlkxcJ','嘲讽语','url','启用反代功能','Host','bind','writable','无效的UUID','UUID','[2001:67c:2960:6464::','includes','get','12LJRyOE','\x0a1、本worker的私钥功能只支持通用订阅，其他请关闭私钥功能\x20\x20\x0a2、其他需求自行研究\x20\x20\x0a通用的：https','TXT','520414RgMCrD','pathname','slice','opened','map','sec-websocket-protocol','decode','env','179710NakQrq','false','notls','my-key','type','私钥验证失败','isArray','Answer','test','from','IPv6\x20地址无需\x20NAT64','trim','send','609785cHNSsL'];a0a=function(){return P;};return a0a();}function a0n(a,b){const M=a0z;return M(0x134)+符号+b+'/'+a+'/'+转码+转码2+'\x0a';}function a0o(a){const N=a0z;我的优选[N(0x110)](a+':443#备用节点');if(私钥开关)return N(0x10b);return 我的优选['map'](b=>{const O=N,[c,d]=b['split']('@'),[e,f=a0d]=c[O(0x151)]('#'),g=e[O(0x151)](':'),h=g[O(0x156)]>0x1?Number(g[O(0x14d)]()):0x1bb,i=g['join'](':'),j=d===O(0x140)?'security=none':O(0x124);return''+转码+转码2+符号+哎呀呀这是我的VL密钥+'@'+i+':'+h+O(0x123)+j+O(0x116)+a+O(0x11e)+a+O(0x14c)+f;})['join']('\x0a');}