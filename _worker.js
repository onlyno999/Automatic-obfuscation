const a0v=a0b;(function(a,b){const u=a0b,c=a();while(!![]){try{const d=parseInt(u(0xb7))/0x1+parseInt(u(0xbf))/0x2*(-parseInt(u(0xa5))/0x3)+-parseInt(u(0xf7))/0x4+-parseInt(u(0xc5))/0x5+parseInt(u(0xba))/0x6*(-parseInt(u(0xd9))/0x7)+parseInt(u(0xad))/0x8*(parseInt(u(0xda))/0x9)+parseInt(u(0xa6))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x50257));let a0c=!![],a0d=a0v(0xe2);const a0e=(a,b,c)=>{const w=a0v,d=import.meta?.[w(0xd5)]?.[a]??c?.[a];if(d===undefined||d===null||d==='')return b;if(typeof d===w(0xf5)){const e=d[w(0xb9)]();if(e==='true')return!![];if(e==='false')return![];if(e[w(0xbd)]('\x0a'))return e[w(0xc3)]('\x0a')[w(0xe9)](f=>f['trim']())[w(0xea)](Boolean);if(!isNaN(e)&&e!=='')return Number(e);return e;}return d;};function a0f(a){const x=a0v,b=a['split']('.');if(b[x(0xc2)]!==0x4)throw new Error(x(0xd8));const c=b[x(0xe9)](d=>Number(d)[x(0xaa)](0x10)[x(0xe3)](0x2,'0'));return x(0xf1)+c[0x0]+c[0x1]+':'+c[0x2]+c[0x3]+']';}async function a0g(b){const y=a0v,c=await fetch(y(0xb6)+b+y(0xb1),{'headers':{'Accept':y(0xe5)}}),d=await c[y(0xd7)](),e=d[y(0xf2)]?.[y(0xf8)](f=>f[y(0xdf)]===0x1);if(!e)throw new Error('无法解析域名的IPv4地址');return a0f(e['data']);}export default{async 'fetch'(a,b){const z=a0v;哎呀呀这是我的ID啊=a0e('ID',哎呀呀这是我的ID啊,b),哎呀呀这是我的VL密钥=a0e(z(0xdb),哎呀呀这是我的VL密钥,b),我的优选=a0e('IP',我的优选,b),我的优选TXT=a0e(z(0xed),我的优选TXT,b),反代IP=a0e(z(0xdc),反代IP,b),咦这是我的私钥哎=a0e('私钥',咦这是我的私钥哎,b),隐藏订阅=a0e('隐藏',隐藏订阅,b),私钥开关=a0e(z(0xb8),私钥开关,b),嘲讽语=a0e(z(0xd1),嘲讽语,b),启用反代功能=a0e(z(0xe4),启用反代功能,b),a0c=a0e(z(0xe8),a0c,b),a0d=a0e('我的节点名字',a0d,b);const c=a[z(0xeb)][z(0xee)](z(0xd3)),d=new URL(a[z(0xc6)]);if(!c||c!=='websocket'){if(我的优选TXT){const f=Array[z(0xd2)](我的优选TXT)?我的优选TXT:[我的优选TXT],g=[];for(const h of f){try{const i=await fetch(h),j=await i[z(0xd0)](),l=j['split']('\x0a')[z(0xe9)](m=>m['trim']())[z(0xea)](m=>m);g['push'](...l);}catch(m){console[z(0xbc)]('无法获取或解析链接:\x20'+h,m);}}if(g[z(0xc2)]>0x0)我的优选=g;}switch(d[z(0xc9)]){case'/'+哎呀呀这是我的ID啊:return new Response(a0m(哎呀呀这是我的ID啊,a['headers'][z(0xee)](z(0xb5))),{'status':0xc8,'headers':{'Content-Type':z(0xe1)}});case'/'+哎呀呀这是我的ID啊+'/'+转码+转码2:if(隐藏订阅)return new Response(嘲讽语,{'status':0xc8,'headers':{'Content-Type':z(0xe1)}});return new Response(a0n(a[z(0xeb)][z(0xee)]('Host')),{'status':0xc8,'headers':{'Content-Type':z(0xe1)}});default:return new Response('Hello\x20World!',{'status':0xc8});}}else{if(私钥开关){const r=a['headers'][z(0xee)](z(0xf4));if(r!==咦这是我的私钥哎)return new Response(z(0xcc),{'status':0x193});}const n=a[z(0xeb)][z(0xee)]('sec-websocket-protocol'),o=a0i(n);if(a0l(new Uint8Array(o[z(0xaf)](0x1,0x11)))!==哎呀呀这是我的VL密钥)return new Response(z(0xf0),{'status':0x193});const {tcpSocket:p,initialData:q}=await a0j(o);return await a0h(a,p,q);}}};async function a0h(a,b,c){const A=a0v,{0x0:d,0x1:e}=new WebSocketPair();return e[A(0xd6)](),a0k(e,b,c),new Response(null,{'status':0x65,'webSocket':d});}function a0i(a){const B=a0v;return a=a['replace'](/-/g,'+')[B(0xef)](/_/g,'/'),Uint8Array[B(0xb2)](atob(a),b=>b[B(0xcb)](0x0))[B(0xec)];}async function a0j(a){const C=a0v,d=new DataView(a),e=new Uint8Array(a),f=e[0x11],g=d['getUint16'](0x12+f+0x1);let i=0x12+f+0x4,j;if(e[i-0x1]===0x1)j=Array[C(0xb2)](e[C(0xaf)](i,i+0x4))[C(0xd4)]('.'),i+=0x4;else{if(e[i-0x1]===0x2){const o=e[i];j=new TextDecoder()[C(0xde)](e[C(0xaf)](i+0x1,i+0x1+o)),i+=o+0x1;}else{const q=new DataView(a);j=Array(0x8)[C(0xf3)]()[C(0xe9)]((r,s)=>q[C(0xca)](i+0x2*s)[C(0xaa)](0x10))['join'](':'),i+=0x10;}}const k=a[C(0xaf)](i);try{const r=await connect({'hostname':j,'port':g});return await r[C(0xb4)],{'tcpSocket':r,'initialData':k};}catch{}if(a0c)try{let s;if(/^\d+\.\d+\.\d+\.\d+$/[C(0xe6)](j))s=a0f(j);else{if(j[C(0xbd)](':'))throw new Error(C(0xac));else s=await a0g(j);}const t=await connect({'hostname':s[C(0xef)](/^|$/g,''),'port':g});return await t[C(0xb4)],{'tcpSocket':t,'initialData':k};}catch{}if(!启用反代功能||!反代IP)throw Error(C(0xc0));const [l,m]=反代IP['split'](':'),n=await connect({'hostname':l,'port':Number(m)||g});return await n[C(0xb4)],{'tcpSocket':n,'initialData':k};}async function a0k(a,b,c){const D=a0v;a[D(0xb3)](new Uint8Array([0x0,0x0]));const d=b['writable'][D(0xdd)](),e=b[D(0xae)]['getReader']();if(c)await d[D(0xc4)](c);a['addEventListener'](D(0xc8),f=>d[D(0xc4)](f[D(0xb0)]));try{while(!![]){const {value:f,done:g}=await e['read']();if(g)break;if(f)a['send'](f);}}finally{try{a[D(0xc7)]();}catch{}try{e[D(0xcd)]();}catch{}try{d[D(0xce)]();}catch{}b[D(0xc7)]();}}function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0xa5;let f=c[d];return f;},a0b(a,b);}function a0l(b){const E=a0v,c=Array[E(0xb2)](b,d=>d['toString'](0x10)[E(0xe3)](0x2,'0'))[E(0xd4)]('');return c[E(0xaf)](0x0,0x8)+'-'+c[E(0xaf)](0x8,0xc)+'-'+c['slice'](0xc,0x10)+'-'+c[E(0xaf)](0x10,0x14)+'-'+c[E(0xaf)](0x14);}function a0m(a,b){return'\x0a1、本worker的私钥功能只支持通用订阅，其他请关闭私钥功能\x20\x20\x0a2、其他需求自行研究\x20\x20\x0a通用的：https'+符号+b+'/'+a+'/'+转码+转码2+'\x0a';}function a0n(a){const F=a0v;我的优选[F(0xc1)](a+F(0xa8));if(私钥开关)return F(0xe0);return 我的优选[F(0xe9)](b=>{const G=F,[c,d]=b['split']('@'),[e,f=a0d]=c[G(0xc3)]('#'),g=e[G(0xc3)](':'),h=g[G(0xc2)]>0x1?Number(g[G(0xbe)]()):0x1bb,i=g['join'](':'),j=d===G(0xe7)?G(0xa9):G(0xbb);return''+转码+转码2+符号+哎呀呀这是我的VL密钥+'@'+i+':'+h+G(0xf6)+j+G(0xcf)+a+G(0xab)+a+G(0xa7)+f;})[F(0xd4)]('\x0a');}function a0a(){const H=['私钥验证失败','cancel','releaseLock','&sni=','text','嘲讽语','isArray','Upgrade','join','env','accept','json','无效的IPv4地址','11179LgIaCM','4161852wzIXxJ','UUID','PROXYIP','getWriter','decode','type','请先关闭私钥功能','text/plain;charset=utf-8','天书暴躁版','padStart','启用反代功能','application/dns-json','test','notls','NAT64','map','filter','headers','buffer','TXT','get','replace','无效的UUID','[2001:67c:2960:6464::','Answer','fill','my-key','string','?encryption=none&','197772yvTsNp','find','51882nDFRbM','5550290ulGQiy','&path=%2F%3Fed%3D2560#',':443#备用节点','security=none','toString','&type=ws&host=','IPv6\x20地址无需\x20NAT64','8kuAjJD','readable','slice','data','&type=A','from','send','opened','Host','https://1.1.1.1/dns-query?name=','461687qVMJPq','私钥开关','trim','1974laNbTS','security=tls','warn','includes','pop','44VOIiNl','连接失败','push','length','split','write','977705ZdOWeJ','url','close','message','pathname','getUint16','charCodeAt'];a0a=function(){return H;};return a0a();}