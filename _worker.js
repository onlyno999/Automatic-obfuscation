const a0v=a0b;function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x164;let f=c[d];return f;},a0b(a,b);}(function(a,b){const u=a0b,c=a();while(!![]){try{const d=-parseInt(u(0x17b))/0x1+parseInt(u(0x168))/0x2*(parseInt(u(0x196))/0x3)+-parseInt(u(0x176))/0x4*(-parseInt(u(0x191))/0x5)+parseInt(u(0x16d))/0x6+-parseInt(u(0x18d))/0x7*(parseInt(u(0x17e))/0x8)+-parseInt(u(0x197))/0x9+parseInt(u(0x190))/0xa*(parseInt(u(0x189))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0xa5ada));let a0c=!![],a0d=a0v(0x1a2);const a0e=(a,b,c)=>{const w=a0v,d=import.meta?.['env']?.[a]??c?.[a];if(d===undefined||d===null||d==='')return b;if(typeof d===w(0x194)){const e=d[w(0x177)]();if(e===w(0x187))return!![];if(e===w(0x16f))return![];if(e['includes']('\x0a'))return e[w(0x186)]('\x0a')[w(0x174)](f=>f['trim']())[w(0x19a)](Boolean);if(!isNaN(e)&&e!=='')return Number(e);return e;}return d;};function a0f(a){const x=a0v,b=a['split']('.');if(b[x(0x164)]!==0x4)throw new Error('无效的IPv4地址');const c=b[x(0x174)](d=>Number(d)[x(0x19b)](0x10)[x(0x171)](0x2,'0'));return'[2001:67c:2960:6464::'+c[0x0]+c[0x1]+':'+c[0x2]+c[0x3]+']';}async function a0g(b){const y=a0v,c=await fetch('https://1.1.1.1/dns-query?name='+b+y(0x165),{'headers':{'Accept':y(0x182)}}),d=await c[y(0x178)](),e=d[y(0x195)]?.[y(0x1a1)](f=>f[y(0x16b)]===0x1);if(!e)throw new Error(y(0x198));return a0f(e[y(0x17c)]);}export default{async 'fetch'(a,b){const z=a0v;哎呀呀这是我的ID啊=a0e('ID',哎呀呀这是我的ID啊,b),哎呀呀这是我的VL密钥=a0e('UUID',哎呀呀这是我的VL密钥,b),我的优选=a0e('IP',我的优选,b),我的优选TXT=a0e(z(0x175),我的优选TXT,b),反代IP=a0e(z(0x17a),反代IP,b),咦这是我的私钥哎=a0e('私钥',咦这是我的私钥哎,b),隐藏订阅=a0e('隐藏',隐藏订阅,b),私钥开关=a0e(z(0x180),私钥开关,b),嘲讽语=a0e(z(0x169),嘲讽语,b),启用反代功能=a0e(z(0x18a),启用反代功能,b),a0c=a0e('NAT64',a0c,b),a0d=a0e(z(0x19f),a0d,b);const c=a['headers']['get'](z(0x19e)),d=new URL(a[z(0x19c)]);if(!c||c!==z(0x192)){if(我的优选TXT){const f=Array[z(0x183)](我的优选TXT)?我的优选TXT:[我的优选TXT],g=[];for(const h of f){try{const i=await fetch(h),j=await i[z(0x1a0)](),l=j[z(0x186)]('\x0a')['map'](m=>m[z(0x177)]())['filter'](m=>m);g[z(0x18f)](...l);}catch(m){console[z(0x181)]('无法获取或解析链接:\x20'+h,m);}}if(g[z(0x164)]>0x0)我的优选=g;}switch(d[z(0x18b)]){case'/'+哎呀呀这是我的ID啊:return new Response(给我订阅页面(哎呀呀这是我的ID啊,a[z(0x188)][z(0x167)]('Host')),{'status':0xc8,'headers':{'Content-Type':z(0x185)}});case'/'+哎呀呀这是我的ID啊+'/'+转码+转码2:if(隐藏订阅)return new Response(嘲讽语,{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}});return new Response(给我通用配置文件(a[z(0x188)][z(0x167)]('Host')),{'status':0xc8,'headers':{'Content-Type':z(0x185)}});default:return new Response(z(0x170),{'status':0xc8});}}else{if(私钥开关){const r=a[z(0x188)][z(0x167)](z(0x179));if(r!==咦这是我的私钥哎)return new Response(z(0x199),{'status':0x193});}const n=a[z(0x188)][z(0x167)](z(0x166)),o=a0i(n);if(验证VL的密钥(new Uint8Array(o[z(0x16a)](0x1,0x11)))!==哎呀呀这是我的VL密钥)return new Response(z(0x17f),{'status':0x193});const {tcpSocket:p,initialData:q}=await a0j(o);return await a0h(a,p,q);}}};async function a0h(a,b,c){const {0x0:d,0x1:e}=new WebSocketPair();return e['accept'](),建立传输管道(e,b,c),new Response(null,{'status':0x65,'webSocket':d});}function a0i(a){const A=a0v;return a=a['replace'](/-/g,'+')[A(0x19d)](/_/g,'/'),Uint8Array[A(0x17d)](atob(a),b=>b[A(0x193)](0x0))[A(0x18c)];}function a0a(){const C=['55795sDzrpI','websocket','charCodeAt','string','Answer','657asNjYg','7985088MskLJq','无法解析域名的IPv4地址','私钥验证失败','filter','toString','url','replace','Upgrade','我的节点名字','text','find','天书暴躁版','length','&type=A','sec-websocket-protocol','get','8718ujRqqf','嘲讽语','slice','type','getUint16','666312HeSZiQ','test','false','Hello\x20World!','padStart','opened','decode','map','TXT','300RIaykz','trim','json','my-key','PROXYIP','700827xmqlra','data','from','153936lRqTdH','无效的UUID','私钥开关','warn','application/dns-json','isArray','join','text/plain;charset=utf-8','split','true','headers','121RtJJjV','启用反代功能','pathname','buffer','49pzFdHz','fill','push','453430jQeCiU'];a0a=function(){return C;};return a0a();}async function a0j(a){const B=a0v,d=new DataView(a),e=new Uint8Array(a),f=e[0x11],g=d[B(0x16c)](0x12+f+0x1);let i=0x12+f+0x4,j;if(e[i-0x1]===0x1)j=Array['from'](e[B(0x16a)](i,i+0x4))[B(0x184)]('.'),i+=0x4;else{if(e[i-0x1]===0x2){const o=e[i];j=new TextDecoder()[B(0x173)](e[B(0x16a)](i+0x1,i+0x1+o)),i+=o+0x1;}else{const q=new DataView(a);j=Array(0x8)[B(0x18e)]()[B(0x174)]((r,s)=>q[B(0x16c)](i+0x2*s)[B(0x19b)](0x10))[B(0x184)](':'),i+=0x10;}}const k=a[B(0x16a)](i);try{const r=await connect({'hostname':j,'port':g});return await r['opened'],{'tcpSocket':r,'initialData':k};}catch{}if(a0c)try{let s;if(/^\d+\.\d+\.\d+\.\d+$/[B(0x16e)](j))s=a0f(j);else{if(j['includes'](':'))throw new Error('IPv6\x20地址无需\x20NAT64');else s=await a0g(j);}const t=await connect({'hostname':s[B(0x19d)](/^|$/g,''),'port':g});return await t['opened'],{'tcpSocket':t,'initialData':k};}catch{}if(!启用反代功能||!反代IP)throw Error('连接失败');const [l,m]=反代IP['split'](':'),n=await connect({'hostname':l,'port':Number(m)||g});return await n[B(0x172)],{'tcpSocket':n,'initialData':k};}